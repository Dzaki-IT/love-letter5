<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surat Cinta Spesial Untukmu üíå</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Quicksand:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-pink: #ff8fab;
            --dark-pink: #fb6f92;
            --soft-white: #fff9fb;
            --shadow-color: rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            overflow: hidden;
            background: #ffe5ec;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Latar belakang gradasi yang bergerak halus */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #ffc2d1, #ffe5ec, #fb6f92, #ff8fab);
            background-size: 400% 400%;
            animation: gradientMove 10s ease infinite;
            z-index: -2;
        }

        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Welcome Screen Overlay */
        .welcome-screen {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: all 1s ease;
        }

        .welcome-screen.hidden {
            opacity: 0;
            visibility: hidden;
            transform: scale(1.1);
        }

        .welcome-content h1 {
            color: white;
            font-family: 'Dancing+Script', cursive;
            font-size: 3rem;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 15px var(--primary-pink);
        }

        .start-btn {
            padding: 15px 40px;
            font-size: 1.2rem;
            background: var(--dark-pink);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 5px 20px rgba(251, 111, 146, 0.4);
        }

        .start-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(251, 111, 146, 0.6);
        }

        /* Container Amplop */
        .envelope-container {
            position: relative;
            width: 320px;
            height: 220px;
            cursor: pointer;
            transition: transform 0.5s ease;
            z-index: 10;
        }

        .envelope-container:hover {
            transform: translateY(-10px);
        }

        /* Amplop Base */
        .envelope {
            position: relative;
            width: 100%;
            height: 100%;
            background: var(--dark-pink);
            border-radius: 0 0 10px 10px;
            box-shadow: 0 15px 35px var(--shadow-color);
        }

        /* Penutup Amplop */
        .flap {
            position: absolute;
            top: 0;
            width: 0;
            height: 0;
            border-left: 160px solid transparent;
            border-right: 160px solid transparent;
            border-top: 120px solid var(--primary-pink);
            transform-origin: top;
            transition: transform 0.6s ease;
            z-index: 5;
        }

        /* Bagian Depan Amplop */
        .front {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 160px solid transparent;
            border-right: 160px solid transparent;
            border-bottom: 110px solid #ffb3c1;
            bottom: 0;
            z-index: 4;
        }

        .front-sides {
            position: absolute;
            width: 0;
            height: 0;
            border-top: 110px solid transparent;
            border-bottom: 110px solid transparent;
            border-left: 160px solid #ff8fab;
            z-index: 3;
        }

        /* Kertas Surat */
        .letter {
            position: absolute;
            bottom: 10px;
            left: 10px;
            width: 300px;
            height: 180px;
            background: white;
            padding: 25px;
            border-radius: 5px;
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 2;
            overflow-y: auto;
            box-shadow: 0 0 10px var(--shadow-color);
            background-image: linear-gradient(#e5e5e5 1px, transparent 1px);
            background-size: 100% 25px;
            line-height: 25px;
        }

        /* State Saat Terbuka */
        .envelope-container.open .flap {
            transform: rotateX(180deg);
            z-index: 1;
        }

        .envelope-container.open .letter {
            transform: translateY(-160px) scale(1.1);
            height: 400px;
            z-index: 6;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
        }

        .letter-content {
            font-size: 0.95rem;
            color: #444;
            text-align: justify;
        }

        .letter-content h2 {
            font-family: 'Dancing Script', cursive;
            color: var(--dark-pink);
            margin-bottom: 15px;
            font-size: 1.8rem;
        }

        .letter-content p {
            margin-bottom: 15px;
        }

        .signature {
            text-align: right;
            margin-top: 20px;
            font-family: 'Dancing Script', cursive;
            font-size: 1.3rem;
            color: var(--dark-pink);
        }

        #canvas {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 100;
        }

        .hint {
            position: absolute;
            bottom: -50px;
            width: 100%;
            text-align: center;
            color: var(--dark-pink);
            font-weight: bold;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body>

    <div class="animated-bg"></div>
    <canvas id="canvas"></canvas>

    <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-content">
            <h1>Ada surat untukmu, <br><span id="recipientDisplay">Sayang</span> ‚ù§Ô∏è</h1>
            <button class="start-btn" onclick="startExperience()">Buka Sekarang ‚ú®</button>
        </div>
    </div>

    <div class="envelope-container" id="mainEnvelope" onclick="openEnvelope()">
        <div class="flap"></div>
        <div class="front"></div>
        <div class="front-sides"></div>
        
        <div class="letter" id="letter">
            <div class="letter-content">
                <h2>Untuk <span id="letterName">Cintaku</span> ‚ù§Ô∏è</h2>
                <p>Haiii sayangkuuuu, cintakuuu, maniskuuu, cantikkuuuu, semestakuu, dan kebanggaankuuu yang sangatttt sangattt sangatttt akuu cintaiiiii melebihi apapunnnnüòò.</p>
                <p>Sekarang udah tanggal 02 februari 2026. Gak kerasa ya aku udah buat love letter untuk kamu selama 1 bulan ini, semoga perasaan kita tetap sama, yaitu saling mencintai satu sama lainüíï.</p>
                <p>Di minggu ini kita gak ada marah-marahan yaa heheheüòÅ. Kalau aku sempat diam, itu bukan karena aku bosan atau sudah gak sayang kamu ya! Aku cuma lagi mikirin banyak hal aja, jadi agak ngeblank. Sorry ya sayang kalau bikin kamu ngerasa yang aneh-aneh.</p>
                <p>Sayanggg, aku beneran udah di fase butuh kamu banget di hidup aku. Semenjak ada kamu, aku jadi punya alasan kuat untuk berkembang. Terima kasih sudah menerima aku apa adanya tanpa menghakimiüò¢.</p>
                <p>Aku ingin jadi penyembuh luka kamu, bukan luka baru. Aku ingin kamu bisa bilang kalau kamu bahagia sama aku. Jangan bosan ya kalau aku kadang manja atau minta pap, itu karena kamu spesial banget buat aku!</p>
                <p>Harapanku minggu ini, kita terus bersama, saling percaya, dan setia. Aku percaya kamu gak akan khianatin aku. Aku pun begitu, trauma masa lalu bikin aku benci banget sama yang namanya selingkuh.</p>
                <p>Terima kasih ya sayang sudah meluangkan waktu baca ini. I Love You So Much! ‚ù§Ô∏èüíï</p>
                <div class="signature">
                    Dengan Cinta,<br>Sulthon üíñ
                </div>
            </div>
        </div>
        <div class="hint">Klik untuk Membuka üíå</div>
    </div>

    <audio id="bgMusic" loop>
        <source src="love.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Setup Nama Penerima
        const urlParams = new URLSearchParams(window.location.search);
        const name = urlParams.get('to') || 'Sayang';
        document.getElementById('recipientDisplay').innerText = name;
        document.getElementById('letterName').innerText = name;

        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];

        function startExperience() {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('bgMusic').play().catch(e => console.log("Audio play blocked"));
        }

        function openEnvelope() {
            const env = document.getElementById('mainEnvelope');
            if(!env.classList.contains('open')) {
                env.classList.add('open');
                createExplosion(window.innerWidth/2, window.innerHeight/2);
            }
        }

        // Particle System (Hati Kecil)
        class HeartParticle {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.size = Math.random() * 15 + 5;
                this.speedX = Math.random() * 6 - 3;
                this.speedY = Math.random() * -10 - 2;
                this.opacity = 1;
                this.color = `hsl(${Math.random() * 20 + 340}, 100%, 70%)`;
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.speedY += 0.1;
                this.opacity -= 0.01;
            }

            draw() {
                ctx.globalAlpha = this.opacity;
                ctx.fillStyle = this.color;
                ctx.beginPath();
                const d = this.size;
                // Menggambar bentuk hati sederhana
                ctx.moveTo(this.x, this.y + d / 4);
                ctx.quadraticCurveTo(this.x, this.y, this.x + d / 4, this.y);
                ctx.quadraticCurveTo(this.x + d / 2, this.y, this.x + d / 2, this.y + d / 4);
                ctx.quadraticCurveTo(this.x + d / 2, this.y, this.x + d * 3/4, this.y);
                ctx.quadraticCurveTo(this.x + d, this.y, this.x + d, this.y + d / 4);
                ctx.quadraticCurveTo(this.x + d, this.y + d / 2, this.x + d * 3/4, this.y + d * 3/4);
                ctx.lineTo(this.x + d / 2, this.y + d);
                ctx.lineTo(this.x + d / 4, this.y + d * 3/4);
                ctx.quadraticCurveTo(this.x, this.y + d / 2, this.x, this.y + d / 4);
                ctx.fill();
            }
        }

        function createExplosion(x, y) {
            for (let i = 0; i < 40; i++) {
                particles.push(new HeartParticle(x, y));
            }
        }

        function animate() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();
                if (particles[i].opacity <= 0) {
                    particles.splice(i, 1);
                    i--;
                }
            }
            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
